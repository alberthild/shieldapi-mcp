import {
  ExactEvmScheme,
  createPermit2ApprovalTx,
  getPermit2AllowanceReadParams
} from "./chunk-GY6X5A3G.mjs";
import {
  isEIP3009Payload,
  isPermit2Payload
} from "./chunk-TKN5V2BV.mjs";
import {
  PERMIT2_ADDRESS,
  authorizationTypes,
  eip3009ABI,
  erc20AllowanceAbi,
  permit2WitnessTypes,
  x402ExactPermit2ProxyABI,
  x402ExactPermit2ProxyAddress,
  x402UptoPermit2ProxyAddress
} from "./chunk-7KHQD5KT.mjs";

// src/signer.ts
function toClientEvmSigner(signer, publicClient) {
  const readContract = signer.readContract ?? publicClient?.readContract.bind(publicClient);
  if (!readContract) {
    throw new Error(
      "toClientEvmSigner requires either a signer with readContract or a publicClient. Use createWalletClient(...).extend(publicActions) or pass a publicClient."
    );
  }
  const result = {
    address: signer.address,
    signTypedData: (msg) => signer.signTypedData(msg),
    readContract
  };
  const signTransaction = signer.signTransaction;
  if (signTransaction) {
    result.signTransaction = (args) => signTransaction(args);
  }
  const getTransactionCount = signer.getTransactionCount ?? publicClient?.getTransactionCount?.bind(publicClient);
  if (getTransactionCount) {
    result.getTransactionCount = (args) => getTransactionCount(args);
  }
  const estimateFeesPerGas = signer.estimateFeesPerGas ?? publicClient?.estimateFeesPerGas?.bind(publicClient);
  if (estimateFeesPerGas) {
    result.estimateFeesPerGas = () => estimateFeesPerGas();
  }
  return result;
}
function toFacilitatorEvmSigner(client) {
  return {
    ...client,
    getAddresses: () => [client.address]
  };
}
export {
  ExactEvmScheme,
  PERMIT2_ADDRESS,
  authorizationTypes,
  createPermit2ApprovalTx,
  eip3009ABI,
  erc20AllowanceAbi,
  getPermit2AllowanceReadParams,
  isEIP3009Payload,
  isPermit2Payload,
  permit2WitnessTypes,
  toClientEvmSigner,
  toFacilitatorEvmSigner,
  x402ExactPermit2ProxyABI,
  x402ExactPermit2ProxyAddress,
  x402UptoPermit2ProxyAddress
};
//# sourceMappingURL=index.mjs.map